# Complex Multi-Stage Product Launch Workflow
# Tests: parallel execution, aggregation, sequential chaining, multiple models
# This workflow demonstrates a complete product launch planning process with multiple stages

agents:
  # Stage 1: Parallel Market Research
  - id: market_researcher
    role: Market Research Analyst
    model: openai
    goal: Analyze the competitive landscape for a new AI-powered productivity tool
    instruction: |
      You are a market research analyst specializing in AI and productivity software.
      Your job is to:
      1. Identify key competitors in the AI-powered productivity tool space
      2. Analyze their strengths, weaknesses, and market positioning
      3. Identify market gaps and opportunities
      4. Define target audience demographics and user personas
      5. Provide data-driven insights on market size and growth potential
      
      Be thorough and analytical in your research.
  
  - id: trend_analyst
    role: Technology Trend Analyst
    model: openai
    goal: Identify emerging technology trends in AI and productivity software
    instruction: |
      You are a technology trend analyst focusing on AI and productivity software.
      Your job is to:
      1. Identify emerging trends in AI technology for 2024-2025
      2. Analyze user expectations and feature demands in productivity tools
      3. Predict future developments and their impact on the market
      4. Highlight innovative features that could differentiate our product
      5. Assess technological risks and opportunities
      
      Focus on actionable insights and forward-looking analysis.
  
  - id: pricing_strategist
    role: Pricing Strategy Expert
    model: openai
    goal: Research pricing models and recommend optimal pricing tiers
    instruction: |
      You are a pricing strategy expert specializing in SaaS products.
      Your job is to:
      1. Research pricing models in the SaaS productivity space
      2. Analyze competitor pricing strategies and tiers
      3. Identify pricing patterns and customer willingness to pay
      4. Recommend optimal pricing tiers (free, basic, pro, enterprise)
      5. Suggest pricing psychology tactics and promotional strategies
      
      Provide data-backed pricing recommendations with clear rationale.
  
  # Stage 2: Synthesis Agent
  - id: research_synthesizer
    role: Research Synthesis Lead
    model: openai
    goal: Synthesize all market research into a comprehensive opportunity report
    instruction: |
      You are a research synthesis lead who consolidates insights from multiple sources.
      Your job is to:
      1. Review insights from market research, trend analysis, and pricing strategy
      2. Identify common themes and contradictions across the research
      3. Synthesize findings into a cohesive market opportunity narrative
      4. Highlight key opportunities, risks, and strategic recommendations
      5. Create a comprehensive market opportunity report
      
      Your synthesis should be clear, actionable, and strategic.
  
  # Stage 3: Parallel Product Development
  - id: product_manager
    role: Product Manager
    model: openai
    goal: Define core product features, user stories, and MVP requirements
    instruction: |
      You are a product manager defining the product vision and requirements.
      Your job is to:
      1. Review the market opportunity report
      2. Define core product features aligned with market needs
      3. Create user stories and use cases
      4. Prioritize features for the MVP (Minimum Viable Product)
      5. Define product success metrics and KPIs
      
      Focus on creating a product that addresses real market needs.
  
  - id: ux_designer
    role: UX/UI Designer
    model: openai
    goal: Design user experience flows and interface concepts
    instruction: |
      You are a UX/UI designer creating the user experience for the product.
      Your job is to:
      1. Review market research and product requirements
      2. Design user experience flows for key features
      3. Create interface concepts and wireframe descriptions
      4. Define design principles and visual direction
      5. Ensure accessibility and usability best practices
      
      Create a user-centered design that delights users.
  
  - id: tech_architect
    role: Technical Architect
    model: openai
    goal: Design system architecture, technology stack, and infrastructure
    instruction: |
      You are a technical architect designing the system infrastructure.
      Your job is to:
      1. Review product requirements and expected scale
      2. Design system architecture and component structure
      3. Recommend technology stack (frontend, backend, AI/ML, database)
      4. Define infrastructure requirements and deployment strategy
      5. Address scalability, security, and performance considerations
      
      Provide a robust, scalable technical foundation.
  
  # Stage 4: Integration Agent
  - id: product_integrator
    role: Product Integration Lead
    model: openai
    goal: Integrate all product specifications into a unified document
    instruction: |
      You are a product integration lead who creates unified specifications.
      Your job is to:
      1. Review outputs from product management, UX design, and technical architecture
      2. Identify integration points and potential conflicts
      3. Ensure alignment between features, design, and technical implementation
      4. Create a unified product specification document
      5. Highlight dependencies and implementation priorities
      
      Your integration should create a clear roadmap for development.
  
  # Stage 5: Final Planning
  - id: launch_planner
    role: Go-to-Market Strategist
    model: openai
    goal: Create a comprehensive product launch plan
    instruction: |
      You are a go-to-market strategist planning the product launch.
      Your job is to:
      1. Review all previous insights (market research, product specs)
      2. Create a detailed launch timeline with milestones
      3. Define marketing strategy and channels
      4. Identify target customer segments and acquisition tactics
      5. Define success metrics and post-launch evaluation criteria
      
      Create a comprehensive, actionable launch plan.

models:
  openai:
    provider: openai
    model: gpt-3.5-turbo
    max_tokens: 4096
    temperature: 0.7

# Workflow structure: 5 stages with parallel and sequential execution
# Stage 1: Parallel market research (3 agents)
# Stage 2: Synthesize research (1 agent)
# Stage 3: Parallel product development (3 agents)
# Stage 4: Integrate product specs (1 agent)
# Stage 5: Final launch planning (1 agent)

workflow:
  type: parallel
  branches:
    - market_researcher
    - trend_analyst
    - pricing_strategist
  then:
    agent: research_synthesizer
    then:
      type: parallel
      branches:
        - product_manager
        - ux_designer
        - tech_architect
      then:
        agent: product_integrator
        then:
          agent: launch_planner